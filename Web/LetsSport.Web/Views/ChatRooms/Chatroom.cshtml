@model LetsSport.Web.ViewModels.ChatRoomViewModel
@{
    var userName = this.User.Identity.Name;
    this.TempData["chatRoomId"] = Model.Id;
}
<div class="container-fluid h-100">
    <div class="row justify-content-center h-100">
        <div class="col-md-8 col-xl-6 chat">
            <div class="card chat-card">
                <div class="chat-card-header msg_head">
                    <div class="d-flex bd-highlight">
                        <div class="img_cont">
                            <img src="~/images/avatar_NoImage.png" class="rounded-circle user_img">
                        </div>
                        <div class="user_info">
                            <span>@Model.EventName Chat Room</span>
                        </div>
                    </div>
                </div>
                <div class="card-body msg_card_body">
                    @foreach (var message in Model.Messages)
                    {
                        if (message.Sender == userName)
                        {
                            <div class="d-flex justify-content-start mb-3">
                                <div class="img_cont_msg">
                                    <img src="~/images/avatar_NoImage.png" class="rounded-circle user_img_msg">
                                    <div class="img_cont_msg">@message.Sender</div>
                                </div>
                                <div class="msg_cotainer">
                                    @message.Text
                                    <span class="msg_time" style="display: block">@message.CreatedOn</span>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="d-flex justify-content-end mb-3">
                                <div class="msg_cotainer_send">
                                    @message.Text
                                    <span class="msg_time_send" style="display: block">@message.CreatedOn</span>
                                </div>
                                <div class="img_cont_msg">
                                    <img src="~/images/avatar_NoImage.png" class="rounded-circle user_img_msg">
                                    <div class="img_cont_msg">@message.Sender</div>
                                </div>
                            </div>
                        }
                    }
                </div>
                <div class="card-footer">
                    <div class="form-group">
                        <form asp-controller="ChatRooms" asp-action="ChatRoom">
                            <div class="input-group-append">
                                <textarea id="inputMessage" asp-for="Text" class="form-control type_msg" placeholder="Typing as @userName..."></textarea>
                                <input type="submit" value="Send" id="sendBtn" class="input-group-text send_btn" asp-route-id="@Model.Id" onclick="doSomething();" />
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var input = document.getElementById("inputMessage");

    input.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
            event.preventDefault();
            document.getElementById("sendBtn").click();
        }
    });
</script>