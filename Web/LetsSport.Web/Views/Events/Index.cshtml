@model LetsSport.Web.ViewModels.Events.EventsIndexMyEventsViewModel;

@{
    this.ViewData["Title"] = "My Events";
}

@if (this.User.Identity.IsAuthenticated)
{
    <h3 class="display-4"   >Upcoming events:</h3>
    <hr />
    @if (!Model.ParticipatingEvents.Any())
    {
        <h4 class="text-center mb-2">You did't joined any events yet!</h4>
    }
    else
    {
        <div class="card-deck">

            @foreach (var game in Model.ParticipatingEvents)
            {
                <div class="card m-2" style="min-width: 14rem; max-width: 23%;">
                    <div class="card-header">
                        <h4>@game.SportName in @game.ArenaAddressCityName</h4>
                        <a asp-controller="Arenas" asp-action="Details" asp-route-id="@game.ArenaId"><h5>@game.ArenaName</h5></a>
                        <p class="m-0">@game.Date</p>
                        <label for="emptySpots" class="control-label m-0">Empty Spots: </label>
                        <span id="emptySpots">@game.EmptySpotsLeft</span>
                        <p class="m-0">@game.Status</p>
                        <hr />
                        <a asp-controller="Events" asp-action="Details" asp-route-id="@game.Id">
                            <img class="card-img-top" src="@game.SportImage" alt="@game.SportName" />
                        </a>
                    </div>
                </div>
            }
        </div>
    }

    @if (Model.AdministratingEvents.Any())
    {
        <h3 class="display-4 mt-2">Administrating events:</h3>
        <hr>
        <div class="card-deck">

            @foreach (var game in Model.AdministratingEvents)
            {
                <div class="card m-2" style="min-width: 14rem; max-width: 23%;">
                    <div class="card-header">
                        <h4>@game.SportName in @game.ArenaAddressCityName</h4>
                        <a asp-controller="Arenas" asp-action="Details" asp-route-id="@game.ArenaId"><h5>@game.ArenaName</h5></a>
                        <p class="m-0">@game.Date</p>
                        <label for="emptySpots" class="control-label m-0">Empty Spots: </label>
                        <span id="emptySpots">@game.EmptySpotsLeft</span>
                        <p class="m-0">@game.Status</p>
                        <hr />
                        <a asp-controller="Events" asp-action="Details" asp-route-id="@game.Id">
                            <img class="card-img-top" src="@game.SportImage" alt="@game.SportName" />
                        </a>
                    </div>
                </div>
            }
        </div>
    }

    @if (Model.CanceledEvents.Any())
    {
        <h3 class="display-4 mt-2">Canceled events:</h3>
        <hr />
        <div class="card-deck">

            @foreach (var game in Model.CanceledEvents)
            {
                <div class="card m-2" style="min-width: 14rem; max-width: 23%;">
                    <div class="card-header">
                        <h4>@game.SportName in @game.ArenaAddressCityName</h4>
                        <a asp-controller="Arenas" asp-action="Details" asp-route-id="@game.ArenaId"><h5>@game.ArenaName</h5></a>
                        <p class="m-0">@game.Date</p>
                        <label for="emptySpots" class="control-label m-0">Empty Spots: </label>
                        <span id="emptySpots">@game.EmptySpotsLeft</span>
                        <p class="m-0">@game.Status</p>
                        <hr />
                        <a asp-controller="Events" asp-action="Details" asp-route-id="@game.Id">
                            <img class="card-img-top" src="@game.SportImage" alt="@game.SportName" />
                        </a>
                    </div>
                </div>
            }
        </div>
    }
}
